{% extends "skeleton.tpl.j2" %}
{% set current_type = 'TocTree' %}
{% from 'macros.tpl.j2' import render_inner, block_paragraph, render_paragraph, lines, block, block_directive, example, render_II with context %}

{% macro tc(obj, subp) -%}
    {%if obj.children%}
        {% if subp.startswith(obj.ref.path[:-6]) %}
        <details class='toctree' open>
        {% else %}
        <details class='toctree'>
        {% endif %}
        <summary><a class="toctree" href="{{url(obj.ref)}}{{ext}}">{{obj.title}} ({{obj.ref.path}} // {{subp}}) </a></summary>
            <ul>
            {% for c in obj.children %}
                <li>{{tc(c, subp)}}</li>
            {% endfor %}
            </ul>
        </details>
    {% else %}
        <a class="toctree" href="{{url(obj.ref)}}{{ext}}">{{obj.title}}({{obj.ref.path}} // {{subp}})</a>
    {%endif%}
{% endmacro %}

{%block api%}
    <ul>
    {% for toctree in  toctrees%}

        <li> {{tc(toctree, '')}}</li>

     {% endfor %}
    </ul>
{% endblock %}
